# Домашнее задание к занятию 10.5 «Балансировка нагрузки. HAProxy/Nginx»

Домашнее задание выполните в Google Docs и отправьте в личном кабинете на проверку ссылку на ваш документ.

Название файла должно содержать номер лекции и фамилию студента. Пример названия: «10.5 Балансировка нагрузки. HAProxy/Nginx — Александр Александров».

Перед тем как выслать ссылку, убедитесь, что её содержимое не приватно, т. е.  открыто на просмотр всем, у кого есть ссылка. Если нужно прикрепить дополнительные ссылки, просто добавьте их в Google Docs.

Любые вопросы по решению задач задавайте в чате учебной группы.

---

### Задание 1

Что такое балансировка нагрузки и зачем она нужна?  
```
Балансировка нагрузки это сервис, который направляет и контролирует интернет-трафик между серверами (в нашем случае - веб-серверами). В результате повышается доступность, масштабируемость, безопасность и производительность.
```
---

### Задание 2

Чем отличаются алгоритмы балансировки Round Robin и Weighted Round Robin? В каких случаях каждый из них лучше применять?  
```
Round Robin, или алгоритм кругового обслуживания, представляет собой перебор по круговому циклу: первый запрос передаётся одному серверу, затем следующий запрос передаётся другому и так до достижения последнего сервера, а затем всё начинается сначала.  
Weighted Round Robin это усовершенствованная версия алгоритма, которая применяет весовой коэффициент, т.е. распределение идёт в соответствии с производительностью и мощностью сервака. Это помогает распределять нагрузку более гибко.  
WRR есть смысл применять при наличии в пуле более производительных серверов, которые будут обрабатывать большее количество запросов за единицу времени.
```
---

### Задание 3

Установите и запустите Haproxy.

*Приведите скриншот systemctl status haproxy, где будет видно, что Haproxy запущен.*  
![HAProxy](https://github.com/redeemer271/homework/blob/srlb-14/10-05-1.png)  

---

### Задание 4

Установите и запустите Nginx.

*Приведите скриншот systemctl status nginx, где будет видно, что Nginx запущен.*  
![HAProxy](https://github.com/redeemer271/homework/blob/srlb-14/10-05-2.png)  

---

### Задание 5

Настройте Nginx на виртуальной машине таким образом, чтобы при запросе:

`curl http://localhost:8088/ping`

он возвращал в ответе строчку: 

"nginx is configured correctly".

*Приведите конфигурации настроенного Nginx сервиса и скриншот результата выполнения команды curl http://localhost:8088/ping.*

####Листинг /etc/nginx/sites-enabled/one. Конфиг nginx.conf не менял.
```
listen 8088;
location /ping{
return 200 'nginx is configured correctly ';
}
}
```
![скрин_curl](https://github.com/redeemer271/homework/blob/srlb-14/10-05-3.png)
---

## Задания со звёздочкой*

Эти задания дополнительные. Их выполнять не обязательно. На зачёт это не повлияет. Вы можете их выполнить, если хотите глубже разобраться в материале.

---

### Задание 6*

Настройте Haproxy таким образом, чтобы при ответе на запрос:

`curl http://localhost:8080/`

он проксировал его в Nginx на порту 8088, который был настроен в задании 5 и возвращал от него ответ: 

"nginx is configured correctly". 

*Приведите конфигурации настроенного Haproxy и скриншоты результата выполнения команды curl http://localhost:8080/.*


